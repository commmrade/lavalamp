ADDR/docs - —Å–≤–∞–≥–∞

# üåã LavaLamp ‚Äî –ò—Å—Ç–∏–Ω–Ω–∞—è –≠–Ω—Ç—Ä–æ–ø–∏—è –∏–∑ –•–∞–æ—Å–∞

<div align="center">

**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏—Ö —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ö–∞–æ—Å–∞ –ª–∞–≤–∞-–ª–∞–º–ø—ã**

[![Rust](https://img.shields.io/badge/Rust-000000?style=for-the-badge&logo=rust&logoColor=white)](https://www.rust-lang.org/)
[![Axum](https://img.shields.io/badge/Axum-FF6B6B?style=for-the-badge)](https://github.com/tokio-rs/axum)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)

</div>

---

## üéØ –ß—Ç–æ —ç—Ç–æ?

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ Rust, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç **–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø—É–∑—ã—Ä—å–∫–æ–≤ –≤ –ª–∞–≤–∞-–ª–∞–º–ø–µ** –≤ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Ö—ç—à–∏. –í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ [Wall of Entropy –æ—Ç Cloudflare](https://blog.cloudflare.com/randomness-101-lavarand-in-production/).

–ö–æ–º–ø—å—é—Ç–µ—Ä—ã –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–∏—Ä–æ–¥–µ ‚Äî –∏–º —Å–ª–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞. **LavaLamp –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —Ö–∞–æ—Å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞** –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω–Ω–æ–π —ç–Ω—Ç—Ä–æ–ø–∏–∏.

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
üåã –õ–∞–≤–∞-–ª–∞–º–ø–∞ (RTMP Stream)
    ‚Üì
üìπ FFmpeg –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–¥—Ä—ã
    ‚Üì
üñºÔ∏è OpenCV –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (grayscale ‚Üí 64x64)
    ‚Üì
üîê SHA-256 —Ö—ç—à–∏—Ä—É–µ—Ç:
   ‚Ä¢ –ë–∞–π—Ç—ã –∫–∞–¥—Ä–∞ (4096 –±–∞–π—Ç)
   ‚Ä¢ –°–∏—Å—Ç–µ–º–Ω–∞—è —ç–Ω—Ç—Ä–æ–ø–∏—è (OsRng)
   ‚Ä¢ Timestamp (–Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã)
   ‚Ä¢ Previous hash (—Ü–µ–ø–æ—á–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π)
    ‚Üì
‚ú® 256-bit —Å–ª—É—á–∞–π–Ω—ã–π —Ö—ç—à
```

---

## üìä –ö–∞—á–µ—Å—Ç–≤–æ —ç–Ω—Ç—Ä–æ–ø–∏–∏

–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã ([TEST_RESULTS.md](TEST_RESULTS.md)):

| –ú–µ—Ç—Ä–∏–∫–∞          | –†–µ–∑—É–ª—å—Ç–∞—Ç               | –û—Ü–µ–Ω–∫–∞ |
|------------------|-------------------------|--------|
| –≠–Ω—Ç—Ä–æ–ø–∏—è         | 7.9985 bits/byte (–∏–∑ 8) | ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ |
| –°–∂–∏–º–∞–µ–º–æ—Å—Ç—å      | 0%                      | ‚úÖ –ù–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ |
| Chi-square       | 327.85 (0.14%)          | ‚úÖ –ù–æ—Ä–º–∞ |
| Monte Carlo œÄ    | 3.1119 (–æ—à–∏–±–∫–∞ 0.94%)   | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |

---

## üõ†Ô∏è –°—Ç–µ–∫

**Rust** ‚Ä¢ **Axum** ‚Ä¢ **OpenCV** ‚Ä¢ **FFmpeg** ‚Ä¢ **SHA-256** ‚Ä¢ **Tokio**

---

## üì° API

### `POST /api/internal/hash`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π —Ö—ç—à.

**Response**:
```json
{
  "hash": "a3f5c8e2d1b4...",
  "frame_basic": "base64_encoded_rgb_frame",
  "frame_grayscale": "base64_encoded_gray_frame",
  "frame_downscale": "base64_encoded_64x64_frame"
}
```

**Swagger UI**: `/docs`

---

## üê≥ –ó–∞–ø—É—Å–∫

```bash
# .env —Ñ–∞–π–ª
echo "RTMP_URL=rtmp://your-lava-lamp-stream" > .env
echo "ADDR=0.0.0.0:8080" >> .env

# Docker
docker build -t lavalamp .
docker run -p 8080:8080 --env-file .env lavalamp

# –õ–æ–∫–∞–ª—å–Ω–æ (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ OpenCV, FFmpeg)
cargo run --release
```

---

## üß™ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# cURL
curl -X POST http://localhost:8080/api/internal/hash
```

```rust
// Rust client
#[derive(Deserialize)]
struct HashResponse { hash: String }

let response = reqwest::Client::new()
    .post("http://localhost:8080/api/internal/hash")
    .send().await?
    .json::<HashResponse>().await?;
```

---

## üéØ Use Cases

- üîê **Seeding CSPRNG**: `ChaCha20Rng::from_seed(hash_bytes)`
- üé≤ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤/–∫–ª—é—á–µ–π**: –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–µ ID
- üõ°Ô∏è **–£—Å–∏–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —ç–Ω—Ç—Ä–æ–ø–∏–∏**: –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ `/dev/urandom`

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ SHA-256 (–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∞—è)
‚úÖ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —ç–Ω—Ç—Ä–æ–ø–∏–∏ (–≤–∏–¥–µ–æ + OsRng + –≤—Ä–µ–º—è + —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
‚úÖ –¶–µ–ø–æ—á–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏)
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –¥–æ–∫–∞–∑–∞–Ω–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å
